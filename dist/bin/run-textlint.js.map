{"version":3,"file":"run-textlint.js","sources":["../../src/bin/run-textlint.ts"],"sourcesContent":["#!/usr/bin/env node\n\nimport { spawnSync } from \"node:child_process\";\nimport { existsSync } from \"node:fs\";\nimport { resolve, dirname } from \"node:path\";\nimport { fileURLToPath } from \"node:url\";\n\nconst __dirname = dirname(fileURLToPath(import.meta.url));\n\n/**\n * 1. Config „Éï„Ç°„Ç§„É´Êé¢Á¥¢\n */\nconst DOCS_LINTER_BASE = resolve(__dirname, \"../presets/base/.textlintrc.base.json\");\nconst DOCS_LINTER_WP = resolve(__dirname, \"../presets/wordpress/.textlintrc.wp.json\");\nconst DOCS_LINTER_SWIFT = resolve(__dirname, \"../presets/swift/.textlintrc.swift.json\");\n\nconst USER_CONFIG_CANDIDATES = [\n  \"./.textlintrc\",\n  \"./.textlintrc.json\",\n  \"./.textlintrc.jsonc\",\n  \"./.textlintrc.wp.json\",\n  \"./.textlintrc.swift.json\",\n  \"./tools/docs-linter/.textlintrc.local.json\"\n];\n\nconst userConfig = USER_CONFIG_CANDIDATES.find((p) => existsSync(p));\nconst targetConfig = userConfig || DOCS_LINTER_WP || DOCS_LINTER_SWIFT || DOCS_LINTER_BASE;\n\nconsole.log(`üß© Using config: ${targetConfig}`);\n\n/**\n * 2. ÂÆüË°åÂØæË±°„Éë„ÇπË®≠ÂÆö\n */\nconst lintTargets = [\n  \"./README.md\",\n  \"./docs/**/*.md\"\n];\n\n/**\n * 3. textlint ÂÆüË°å\n */\nconst result = spawnSync(\"npx\", [\"textlint\", \"--config\", targetConfig, ...lintTargets], {\n  stdio: \"inherit\",\n  shell: true,\n  cwd: process.cwd(),\n  env: {\n    ...process.env,\n    NODE_PATH: [\n      resolve(__dirname, \"../node_modules\"),\n      resolve(process.cwd(), \"node_modules\")\n    ].join(\":\")\n  }\n});\n\nif (result.error) {\n  console.error(\"‚ùå Failed to run textlint:\", result.error);\n  process.exit(1);\n}\n\nprocess.exit(result.status ?? 0);\n"],"names":["__dirname"],"mappings":";;;;;;AAOA,MAAMA,cAAY,QAAQ,cAAc,YAAY,GAAG,CAAC;AAKxD,MAAM,mBAAmB,QAAQA,aAAW,uCAAuC;AACnF,MAAM,iBAAiB,QAAQA,aAAW,0CAA0C;AACpF,MAAM,oBAAoB,QAAQA,aAAW,yCAAyC;AAEtF,MAAM,yBAAyB;AAAA,EAC7B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;AAEA,MAAM,aAAa,uBAAuB,KAAK,CAAC,MAAM,WAAW,CAAC,CAAC;AACnE,MAAM,eAAe,cAAc,kBAAkB,qBAAqB;AAE1E,QAAQ,IAAI,oBAAoB,YAAY,EAAE;AAK9C,MAAM,cAAc;AAAA,EAClB;AAAA,EACA;AACF;AAKA,MAAM,SAAS,UAAU,OAAO,CAAC,YAAY,YAAY,cAAc,GAAG,WAAW,GAAG;AAAA,EACtF,OAAO;AAAA,EACP,OAAO;AAAA,EACP,KAAK,QAAQ,IAAA;AAAA,EACb,KAAK;AAAA,IACH,GAAG;AAAA,IACH,WAAW;AAAA,MACT,QAAQA,aAAW,iBAAiB;AAAA,MACpC,QAAQ,QAAQ,IAAA,GAAO,cAAc;AAAA,IAAA,EACrC,KAAK,GAAG;AAAA,EAAA;AAEd,CAAC;AAED,IAAI,OAAO,OAAO;AAChB,UAAQ,MAAM,6BAA6B,OAAO,KAAK;AACvD,UAAQ,KAAK,CAAC;AAChB;AAEA,QAAQ,KAAK,OAAO,UAAU,CAAC;"}